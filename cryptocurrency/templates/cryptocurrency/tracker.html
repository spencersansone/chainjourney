{% extends 'cryptocurrency/base.html' %}
{% block title %}Cryptocurrency | Tracker{% endblock %}

{% block body %}
{% load staticfiles %}

<div id="darkBackground" class="col-sm-12" style="border: 2px solid white;word-wrap: break-word;border-radius: 0px 0px 15px 15px;text-align:center;border-top: 0px;">
  <br>
  <div class="jumbotron" style="background-image: url('{% static 'cryptocurrency/img/mininggif.gif' %}');">
    <h1 class="display-3">Mining Tracker</h1>
    <br><br><br><br><br><br>
  </div>
  <figure class="text-center">
    <figcaption class="figure-caption"><p>Source: https://bitsapphire.com/wp-content/uploads/2017/09/What-Makes-a-Blockchain-Protocols-and-the-Future.gif</p></figcaption>
  </figure>
</div>

<div class="col-sm-12">
  <br>
</div>

<div id="darkBackground" class="col-sm-6" style="border: solid 2px white;text-align:center;border-radius: 15px;">
  <br>
      
  <table class="table table-dark table-sm" style="width:100%;margin: 0px auto;background-color:#0b1d3a;">
    <thead>
      <tr>
        <th colspan="6">
          <h1>Live Mining Stats</h1>
        </th>
      </tr>
    </thead>
  </table>
      
      
      
      
  <div class="card" style="background-color:#030911;">
    <div id="lightBackground" class="card-header" id="heading9" style="text-align:center;">
      <h5 class="mb-0">
        <button type="button" class="btn btn-block btn-success" data-toggle="collapse" data-target="#collapseZEC" aria-expanded="true" aria-controls="collapseZEC">
          ZEC <span class="badge badge-light">{{zecNumWorkers}}</span>
        </button>
      </h5>
        </div>
        <div id="collapseZEC" class="collapse show" aria-labelledby="headingZEC" data-parent="#accordion">
          <div class="card-body">
            <table class="table table-dark table-sm" style="width:100%;margin: 0px auto;background-color:#0b1d3a;">
              <thead>
                <tr>
                  <th colspan="2">
                    <h1>Zcash <img src="{% static 'cryptocurrency/img/zcash.jpg' %}" alt="zcash"></h1>
                    <h4 id="techFont3"><a href="{% url 'cryptocurrency:tracker' %}">Refresh</a></h4>
                  </th>
                </tr>
                <tr>
                  <th scope="col">Rig</th>
                  <th scope="col">Speed</th>
                </tr>
              </thead>
              <tbody>
                {% for a in zecWorkers %}
                  <tr>
                {% if a.1 != 0 %}
                    <td><h4>{{a.0}}</h4></td>
                    <td style="background-color:green">{{a.1}} H/s</td>
                {% else %}
                    <td><h4>{{a.0}}</h4></td>
                    <td style="background-color:red"></td>
                {% endif %}
                  </tr>
                {% endfor %}
                  <tr>
                    <th scope="col">Total Speed</th>
                    <th scope="col">24hr Average</th>
                  </tr>
                  <tr>
                    <td>{{zecHashrate}} H/s</td>
                    <td>{{zecHashrate24}} H/s</td>
                  </tr>
                {% if zecBalancePercent >= 100 %}
                  <tr>
                    <th colspan="2">
                      <p>Balance: <a href="https://zec.nanopool.org/account/t1TKr7vXiXYxm9UxD1pUbYWy3pJPrvmuFDm">{{zecBalance}}</a> ZEC <img src="{% static 'cryptocurrency/img/zcash.jpg' %}" alt="zcash"></p>
                      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                        Payout Pending
                      </div>
                    </th>
                  </tr>
                {% else %}
                  <tr>
                    <th colspan="2">
                      <p>Balance: <a href="https://zec.nanopool.org/account/t1TKr7vXiXYxm9UxD1pUbYWy3pJPrvmuFDm">{{zecBalance}}</a> ZEC <img src="{% static 'cryptocurrency/img/zcash.jpg' %}" alt="zcash"></p>
                      <div class="progress-bar progress-bar-info progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: {{zecBalancePercent}}%;min-width: 3em;">
                        {{zecBalancePercent}}%
                      </div>
                    </th>
                  </tr>
                {% endif %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <div class="card" style="background-color:#030911;">
        <div id="lightBackground" class="card-header" id="heading9" style="text-align:center;">
          <h5 class="mb-0">
              <button type="button" class="btn btn-block btn-secondary" data-toggle="collapse" data-target="#collapse9" aria-expanded="true" aria-controls="collapse9">
                ETH <span class="badge badge-secondary">0</span>
              </button>
            
          </h5>
        </div>
        <div id="collapse9" class="collapse" aria-labelledby="heading9" data-parent="#accordion">
          <div class="card-body">
          </div>
        </div>
      </div>
      
      <div><br></div>
      
      <div id="rigGifs" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="{% static 'cryptocurrency/img/eth1.gif' %}" alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="{% static 'cryptocurrency/img/smr1.gif' %}" alt="Second slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
  </div>
  
  <div id="darkBackground" class="col-sm-6" style="border: solid 2px white;text-align:center;border-radius: 15px;">
  <br>
  <table class="table table-dark table-sm" style="width:100%;margin: 0px auto;background-color:#0b1d3a;">
    <thead>
      <tr>
        <th colspan="6">
          <h1>Recent Records <img src="{% static 'cryptocurrency/img/zcash.jpg' %}" alt="zcash"></h1>
          <h5 style="font-weight:bold;">Past 2 Hours</h5>
          <h4 id="techFont3"><a href="{% url 'cryptocurrency:records' %}">Full Records</a></h4>
        </th>
      </tr>
      <tr>
        <th scope="col">Date/Time (EST)</th>
        <th scope="col">Speeds</th>
        <th scope="col">Balance</th>
      </tr>
    </thead>
    <tbody>
      {% for a in recordsArray %}
        <tr>
          <td>
            <p style="font-size: 12px;">{{a.0}}</p>
          </td>
          <td>
            {% for b in a.2%}
            <p style="font-size: 12px;">{{b.0}}: {{b.1}}</p>
            {% endfor %}
            <p style="font-size: 12px;"><strong>Total: {{a.1}}</strong></p>
            <p style="font-size: 12px;">3hr Avg: {{a.4}}</p>
            <p style="font-size: 12px;">24hr Avg: {{a.5}}</p>
          </td>
          <td>
            <p style="font-size: 12px;">{{a.3}}</p>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <br>
</div>
{% endblock %}